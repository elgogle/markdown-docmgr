@using MarkdownRepository.Lib
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@model MarkdownRepository.Models.Document

@if (Model.creator.Equals(User.Identity.Name.GetUserName(), StringComparison.InvariantCultureIgnoreCase))
{
<div class="pull-right" style="font-size:0.7em;" >
    <a href="@Url.Action("Create", new { id = Model.rowid })"><span class="glyphicon glyphicon-edit"></span> 修改</a>     
</div>
}

@if (TempData["RedirectReason"] == "Unauthorized")
{
    <b style="color:Red">You don't have permission to edit</b>
}

<h2 style="padding-left:0.3em;">@Model.title</h2>

<div id="md">
    <textarea style="display:none;">@Model.content</textarea>
</div>

@section style{
    @System.Web.Optimization.Styles.Render("~/css/editor.md")
}

@section scripts{

@System.Web.Optimization.Scripts.Render("~/script/editor.md")

<script>
    showMarkDown("md");
</script>
}
